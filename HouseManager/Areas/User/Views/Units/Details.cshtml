@inject IHttpContextAccessor HttpContextAccessor

@model UnitDetailViewModel

@{
	var houseOrgId = HttpContextAccessor?.HttpContext?.Session.GetInt32(HouseOrgId);
	var houseOrgName = HttpContextAccessor?.HttpContext?.Session.GetString(HouseOrgName);
	var name = $"Unit {Model.Number}";
	var currentBalanceString = Model.Balance;
}


<h4 class="text-center mb-4">@houseOrgName - @name</h4>
<hr />
<div class="row row-cols-1 row-cols-lg-2 justify-content-xl-around justify-content-center align-items-top mb-5">
	<div class="row col-auto justify-content-center">
		<div class="card border-2 p-0 col-12 col-xl-7">
			<h4 class="card-header p-2 text-center">Details</h4>
			<div class="card-body p-4">
				<div class="row align-items-center mb-3">
					<label asp-for="@Model.Type" class="col-lg-5 text-start text-lg-end fw-bold"></label>
					<label class="col-lg-5">@Model.Type</label>
				</div>
				<div class="row align-items-center mb-3">
					<label asp-for="@Model.Number" class="col-lg-5 text-start text-lg-end fw-bold"></label>
					<label class="col-lg-5">@Model.Number</label>
				</div>
				<div class="row align-items-center mb-3">
					<label asp-for="@Model.Floor" class="col-lg-5 text-start text-lg-end fw-bold"></label>
					<label class="col-lg-5">@Model.Floor</label>
				</div>
				<div class="row align-items-center mb-3">
					<label asp-for="@Model.TotalArea" class="col-lg-5 text-start text-lg-end fw-bold"></label>
					<label class="col-lg-5">@Model.TotalArea m2</label>
				</div>
				<div class="row align-items-center mb-3">
					<label asp-for="@Model.CommonParts" class="col-lg-5 text-start text-lg-end fw-bold"></label>
					<label class="col-lg-5">@Model.CommonParts %</label>
				</div>
				<div class="row align-items-center mb-3">
					<label asp-for="@Model.OccupantsCount" class="col-lg-5 text-start text-lg-end fw-bold"></label>
					<label class="col-lg-5">@Model.OccupantsCount</label>
				</div>
			</div>
		</div>
	</div>
	<div class="col-auto">
		<div class="row justify-content-center">
			<div class="card border-2 p-0 col-12 col-xl-7">
				<h4 class="card-header p-2 text-center">Current Balance</h4>
				<div class="card-body row align-items-center mx-0">
					@if (currentBalanceString <= 0)
					{
						<h2 class="display-4 text-center text-danger align-middle mb-3">@currentBalanceString BGN</h2>
					}
					else
					{
						<h2 class="display-4 text-center align-middle mb-3">@currentBalanceString BGN</h2>
					}
				</div>
			</div>
		</div>
	</div>
</div>
<div class="row justify-content-center">
	<div class="card border-2 p-0 mb-3 mx-1 col-6">
		<h4 class="card-header p-2 text-center">Active Occupants list</h4>
		<div class="card-body p-4">
			<partial name="_ActiveOccupantsPartial" model="@Model.ActiveOccupants" />
		</div>
	</div>
</div>
<form class="row justify-content-center">
	<button class="btn btn-info col-auto m-1" asp-area="User" asp-controller="Units" asp-action="All" asp-route-id="@houseOrgId"><i class="fa-regular fa-circle-left me-2"></i>Back</button>
</form>